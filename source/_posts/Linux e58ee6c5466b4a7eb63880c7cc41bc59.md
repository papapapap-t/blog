---
category: featTest
excerpt: Linux，全称GNU/Linux，是一套免费使用和自由传播的类Unix操作系统，是一个基于POSIX的多用户、多任务、支持多线程和多CPU的操作系统。伴随着互联网的发展，Linux得到了来自全世界软件爱好者、组织、公司的支持。它除了在服务器方面保持着强劲的发展势头以外，在个人电脑、嵌入式系统上都有着长足的进步。使用者不仅可以直观地获取该操系统的实现机制，而且可以根据自身的需要来修改完善Linux，使其最大化地适应用户的需要。Linux不仅系统性能稳定，而且是开源软件。
tags: [Java , 操作系统 , 系统 ,Linux] 
title: Linux 
---
# Linux

## Linux的简单介绍

学习linux操作系统的目的：
我们在企业中当项目开发完成后需要将项目进行部署，让用户来使用，部署就是将项目放到服务器进行运
行，从系统稳定性和持久性来说，服务器使用的都是linux系统，一般在项目开发阶段也会接触linux，有一
些软件也是在linxu系统部署，linux对应远程连接操作和在当前系统操作是一样的。
linux的特点：
Linux，全称GNU/Linux，是一套免费使用和自由传播的类Unix操作系统，是一个基于POSIX的多用
户、多任务、支持多线程和多CPU的操作系统。
伴随着互联网的发展，Linux得到了来自全世界软件爱好者、组织、公司的支持。它除了在服务器方面保
持着强劲的发展势头以外，在个人电脑、嵌入式系统上都有着长足的进步。使用者不仅可以直观地获取该操作
系统的实现机制，而且可以根据自身的需要来修改完善Linux，使其最大化地适应用户的需要。
Linux不仅系统性能稳定，而且是开源软件。其核心防火墙组件性能高效、配置简单，保证了系统的安
全。在很多企业网络中，为了追求速度和安全，Linux不仅仅是被网络运维人员当作服务器使用，甚至当作网
络防火墙，这是Linux的一大亮点。
Linux具有开放源码、没有版权、技术社区用户多等特点，开放源码使得用户可以自由裁剪，灵活性高，
功能强大，成本低。尤其系统中内嵌网络协议栈，经过适当的配置就可实现路由器的功能。这些特点使得
Linux成为开发路由交换设备的理想开发平台

## 环境配置

### 在windows上学习linux需要安装虚拟机

vmware的安装防呆不防傻

### vmware虚拟机上安装linux系统

需要在设置里吗打开增强型键盘 然后进行linux安装 

需要设置密码  在linux中输入密码的时候是没有任何提示的！

### linux系统的配置问题

我们是通过vmware安装的一个虚拟系统，和window不一样没有网线直接连接，vmware会帮助我们创
建两个虚拟网卡，安装成功后打开网卡查看：

如果修改过ip地址需要将 DHCP设置和NAT设置同样设置一样的IP地址

需要配置linux的自动连接功能 

命令 `nmtui` 进入设置界面  第一个选项 右边第二个 倒数第二个需要被选中 前有 ×

然后进入第二个选项断开连接和重新连接如果成功就成功了！

### 通过远程工具连接linux

我们linux使用远程连接是非常方便的，可以直接通过ip地址及用户名和密码进行远程连接，查看当前系
统ip地址的命令：`ip add`

同样可以安装功能更加强大的插件 `yum -y install net-tools`

安装之后可以使用`ifconfig` 进行加载

通过软件连接查询到的ip地址和密码

这里使用的是`MobaXterm` 可以同时进行命令输入和文件传输

## Linux 系统

### 了解Linux系统

linux和window一样也是一个文件操作系统，所有的内容都是由文件和目录（文件夹）组成，和
window不一样的是，linux是不发盘符的，所有的文件都在哎一个硬盘下，这个大的硬盘叫根目录
在linux系统下根据目录区分文件的类别

![Untitled](images/Linux/Linux%20e58ee6c5466b4a7eb63880c7cc41bc59/Untitled.png)

| boot  | 引导文件系统文件存放目录    |
| ----- | --------------------------- |
| dev   | 存驱动的                    |
| etc   | 配置文件目录 用它改环境变量 |
| home  | 其他用户文件存放位置        |
| media | 挂在目录 建议挂在媒体设备   |
| mnt   | 挂载 加载u盘                |
| opt   | 第三方软件安装位置          |
| proc  | 系统进程                    |
| root  | 超级管理员                  |
| run   | 运行程序文件的              |
| srv   | 服务数据目录                |
| sys   | 系统文件                    |
| tmp   | 临时文件                    |
| usr   | linux系统下系统文件安装     |
| var   | 动态数据存放位置            |

## 为了防止大家错误的修改文件，可以在系统安装后通过vmware创建一个快照：

一个可以回滚的副本

## Linux指令

### 文件操作指令

- `cd` 进入目录的命令 cd  后面跟要进入的目录名可以多级路径 前面有`/`是绝对 没有是相对 `cd /` 进入的根目录 `cd ..` 返回上一级目录
- `ls` 查看当前目录下文件和文件夹
    
    通过颜色表示不同的文件或者目录 白色就是文件 深蓝色的就是目录 浅蓝色的就是软连接
    在linux的命令 几乎所有的命令都可以添加属性 让命令结果发生改变，每一个命令都有哪些属性可以添
    加，
    我们可以通过 命令 --help 查看：
    
    `l` 显示的是当前目录的详细信息
    
    `h`属性 更好的显示模式 该属性不会单独使用 一般都是配置l来用的
    
    `a`属性 显示所有的文件或者目录 包括系统文
    
- 创建目录 `mkdir` 同样创建的时候区分绝对路径和相对路径 这个命令只可以创建文件夹 同时他也只可以创建单层级的目录但是可以同
    - `p`这个数据创建多层级目录
- 创建文件 `touch` 可以多文件创建中间使用空格分隔  可以在不存在的目录创建文件
- 复制文件 `cp` 可以进行文件的复制和重命名  后面跟要复制的文件 在后面是要复制到的路径 不可以复制目录
    - `r` 这个属性是可以让他复制目录的
- 移动文件 `mv` 移动文件和复制文件使用相同
- 删除文件或者目录 `rm`   确认删除输入 y 为删除其他为不删除
    - `r` 这个属性可以让他删除路径
    - `f` 这个属性可以让他不提示确认删除
- 查看文本文件命令 `cat`  默认utf-8
    - `head` 后面可以跟行数 -1 之类的 从头开始显示几行
    - `tail` 是从后面开始
    - `less` 是可以分页的 使用pgUP pgDN操作
- 文件编辑的命令 `vi` 进入文件编辑器
    - 浏览模式只可以看
    - 修改模式 通过按`insert`键进入可以更改 按 `esc` 退出
    - 命令模式输入`：` 进入 可以输入命令
        - `w` 保存
        - `q` 推出
        - `x` 保存并推出
- 查看硬盘`df`
- 查看内存`free`
- 查看日期`date`
- 查看日历`cal` 可以 -3 展示附近三月 可以 -y 年份 查看年份日历
- 查看进程 `ps`
    - `e` 属性可以查看系统进程
    - `f` 属性可以对进行有更多的描述
    
    | UID   | 当前进程启动用户的id                 |
    | ----- | ------------------------------------ |
    | PID   | 当前进程的 id                        |
    | PPID  | 当前进程的父ID                       |
    | C     | CPU占比                              |
    | STIME | 启动时间                             |
    | TTY   | 当前进行的终端设备 ？ 表示的当前终端 |
    | TIME  | 当前进程运行的时间 挂起的时间不算    |
    | CMD   | 当前进程的名称或者启动的命令         |
- `ps aux` 进阶命令 可以查看更多更好的显示
    
    
    | USER    | 用户ID                                            |
    | ------- | ------------------------------------------------- |
    | PID     | 进程ID                                            |
    | %CPU    | CPU占比                                           |
    | %MEM    | 内存使用占比                                      |
    | VSZ     | 虚拟内存使用量                                    |
    | RSS     | 固定内存使用                                      |
    | TTY     | 使用进程的终端设备                                |
    | START   | 进程的驱动时间                                    |
    | TIME    | 进程的运行时间                                    |
    | COMMAND | 进程的名称或者命令                                |
    | STAT    | 进程的状态 使用特殊的字母表示  字母严格区分大小写 |
    
    | STAT |                                                            |
    | ---- | ---------------------------------------------------------- |
    | S    | 休眠                                                       |
    | D    | 无法终端的休眠一般是I/O流                                  |
    | R    | 正在运行的队列表示正在排队运行的程序(基本可以认为正在运行) |
    | T    | 停止或者被追踪的                                           |
    | W    | 正在和内存交互的                                           |
    | S    | 领导者表示主进程                                           |
    | X    | 死掉的进程                                                 |
    | Z    | 僵尸进程表示父进程死了但是子进程还存在                     |
    | <    | 表示优先级比较高的进程                                     |
    | N    | 表示优先级比较低的进程                                     |
    | l    | 表示部分页面缩入内存中的进程(小写L)                        |
    |      |                                                            | 表示多进程 （管道符） |
    | +    | 表示位于后台的进程                                         |
    
- 动态查看进程的 使用`top`
    - 进入后按`M` 表示按使用的内存大小展示
    - 进入后按`P` 表示按使用的CPU占比展示
    - 进入后按`T` 表示按照使用时间展示
    - 进入后按`q` 表示退出

## 网络相关

- `ifconfig` 安装插件之后可以使用
    - 查看网络信息
    - 后面 继续写网络的名字 和要个更改的ip地址可以进行ip的更改 （有时效性）
- `ip add` 原生查看网络信息
- `netstat` 查看网络进程
    - `-t` 表示只展示tcp协议的网络
    - `-l` 表示只展示被监听的网络
    - `-a` 表示展示所有
    - `-p` 表示展示正在使用该网络的进程的id和用户
    - `-n` 可以将网络地址转换为`ip`地址查看

### 防火墙的使用

contos系统自带防火墙默认就是开启的，回默认拦截所有使用的端口，在添加需要使用网络服务的应用
的时候，必须设置防火墙。

contos自带防火墙是firewall

- 查看防火墙的状态 `firewall-cmd-state`
- 查看防火墙开放的端口 `firewall-cmd-port`
- 添加对端口的开放`firewall-cmd —zone=public —add-port=80/tcp —permanent`
- 如果需要开放端口生效就像要将防火墙重启`firemall-cmd-reload`
- 关闭防火墙 `systemctl-stop-firewalld`
- 永久关闭 `systemctl disable firewall`
- 开启开机启动防火墙 `systemctl enable firewalld`
- 防火墙打开命令 `systemctl start firewalld`

### 组合命令

在linux命令中 所有的命令都可以通过组合命令进行功能的拓展

- 查询组合命令
    - 可以在结果中进行二次筛选 `| grep` 查询的内容主要是有结果展示的命令 都可以通过该组合命令进行二次查询：
    - 保存命令内容命令 如果我们需要将命令的输出保存一个文本文档，可以通过 `>` 或者 `>>` 来进行保存 > 是覆盖 >>是追加

### 关闭进程命令

如果我们有一些进程出现问题，linux可以通过进程id将进程结束，
`kill pid` 我们使用命令的时候最后使用`kill -9 pid`来执行

因为调用kill `pid` 的时候默认调用的是kill -15 pid来执行，和-9的区别就是：-15是发送命令到进程，要
求进程自己结束 -9 就是在系统中直接结束进程

`kill - 9` 是让进程主动结束

`kill -15` 是让系统停止该进程

## Linux的用户管理

Linux的用户和window是不一样的，linux通过用户来分配权限（文件或者目录的窗口或者操作权限），支
持多用户同时在线操作。在linux系统在公司的使用过程中，普通开发人员是不可能具有root权限的。linux
系统对应用户可以进行管理的操作

### 用户查询

1. 使用`cat`命令查看`etc`目录下的`passwd`文件可以查看用户名 文件存放位置 id 和 组的id
2. 可以查看home文件夹下的文件夹每个用户都有一个独立的文件夹

### 用户添加

使用`useradd` 指令进行用户添加

指定`id` 添加 使用 `-p` 属性后面跟`id`的值 如果不设置 id 则是从10000开始递增

指定`组id` 添加 使用 `-g` 属性后面跟`组id` 如果设置不存在的组id会报错

`id` 和 `用户名`都不可以重复

### 用户修改

使用 `passwd` 进行用户密码的修改 `root` 权限可以无视`linux`的密码策略 在输入两次之后可以直接修改 

使用 `usermod` 进行用户的更改

`-l` 属性可以修改用户的用户名 不会更改home文件中的文件夹的名字

`-u` 属性可以修改用户的id

### 用户的删除

使用`userdel` 不会删除home文件夹下的文件夹

`-r` 可以同时删除home 文件夹

`-f` 强制删除该用户登录状态也可以删除

### 用户之间的切换

`su` 可以切换其他用户 `root` 用户切换任何用户都不需要密码

其他用户需要

### 搜索文件或者目录

`find` 命令

可以根据搜索范围递归查找

`find [范围][选项]`

-name 根据文件名字进行查找 *为模糊查 查询内容尽量使用””包裹

-user 根据文件的所有者进行查找

-size 根据文件的大小进行查询 在进行大小查询的时候可以使用 +n  -n  和 n 作为匹配

查询etc下 所有者是root 并且名称包含profile 的文件

### 压缩和解压缩命令

`tar[选项]` 压缩之后的文件名 需要压缩的没有了或者文件

选项中可以天机的属性

`c`  压缩

`v` 展示进度

`f` 以递归式压缩或者解压速

`z` 使用gzip格式进行压缩或者解压缩

`x` 解压缩

压缩默认的文件名后缀就是tar.gz

 `t` 可以查看一个压缩文件

### 安装JDK

在opt文件中解压缩这里是安装第三方应用的地方 

配置环江变量 

在 `ect/profile` 文件 中书写配置环境变量

```java
export JAVA_HOME=/opt/jdk1.8.0_161
export PATH=$PATH:$JAVA_HOME/bin
```

`source /etc/profile` 使配置文件立刻生效